apiVersion: admissionregistration.k8s.io/v1
kind: ValidatingWebhookConfiguration
metadata:
  name: environment-validator-webhook
  labels:
    app: environment-validator-webhook
    kind: validating
webhooks:
  - name: environment-validator-webhook.slok.dev
    clientConfig:
      service:
        name: environment-validator-webhook
        namespace: default
        # path: "/validating"
      caBundle: LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUZnVENDQTJtZ0F3SUJBZ0lVUThDN2dPN3BLTjU1RVBpRDJmbEEzenZyclBFd0RRWUpLb1pJaHZjTkFRRUwKQlFBd05ERXlNREFHQTFVRUF3d3BaVzUyYVhKdmJtMWxiblF0ZG1Gc2FXUmhkRzl5TFhkbFltaHZiMnN1WkdWbQpZWFZzZEM1emRtTXdIaGNOTWpJeE1ERTBNVEF5TnpBNFdoY05Nak14TURFME1UQXlOekE0V2pBME1USXdNQVlEClZRUUREQ2xsYm5acGNtOXViV1Z1ZEMxMllXeHBaR0YwYjNJdGQyVmlhRzl2YXk1a1pXWmhkV3gwTG5OMll6Q0MKQWlJd0RRWUpLb1pJaHZjTkFRRUJCUUFEZ2dJUEFEQ0NBZ29DZ2dJQkFMU1NhS1JXaEh1MHo5QzNDY2szNlFqRwpaQUxYdEVGVWVCODFIU2FxalJSU213cFU4OWZMcmF6QzNSR0MvUFFhSFhlL2JmVDRrSzFRVWlTaVdoZGhOWFgyCmtPN0tWelZBR0NCZ1cxVzl5TkNISnprcW16cSs0MjJSKzJ5VUwxS0U1bzRmMlJScm9kZ21iSVhzcS9CbEE3Sm0KVnZndExyTXJreGlHbEM4d2hiazQ2Q0lKVjIxMlUvUWV0R1p4bU1abHZTTUJpRzdVSFpEWlhRSjQ3MkRDOVI4YwptWkZRM1hzUk9uRXd4UEkzMnpOQThPZURBa0g1aVlUUGRyQytISEsvbm14MjljUFhtYTN2SDh4dW1FYTAvK3FVCjg0bVkrY0NNWktPQUcvVjVaQktWTjUyeC82OTdGR3VndHpSOXBJQ2xvU0NFUlVBZFZKbEh4dGgxbEZSbitIbDcKUDFMcjNIWlZZY1RkbVBQam8rUXA2cW5pa1c2ZkRCeFhXL3Bad1NZL0Zjdk5UM0dtTFBrWG9BNmNHTzBhUXdFOAo5Vld3cE1ZN3dxYllJSFZVMHdub3pUS2YyL3lZZ3VCMFNubGM3NzJ2WDhUOWZ5RjU2WE9HVkwwWUtrYzFvVmNlClVqUThuRFoyWWhjRkVyajdsNlFtSVRKUzNVempJVmNsTFNXODNvSlNHb1VYeis2OGwzbXVwaFlyYm9mendQZEYKOFdvdi9OVUxPWXVublBlTGRKQ3hoaW9HMXNENW9FVk5ITWdLRXluV0xCcGZGMXR2VHRHK2tSbFo5U3JwWDRFOApwN1d6cTNEL0o2SDgvZ1E1a0Y1SjdGcEZDSU5pWGljeWZWaUt6VzNBbmlYY212eCtXUDlGYmpTcU9lQVpuVVNpCkhGQW9aNzdDbEI5dkRYRTRjTm0xQWdNQkFBR2pnWW93Z1ljd0hRWURWUjBPQkJZRUZCOE85SUpCay9TZG55VlUKY3NGS2xUTFRDQ0F4TUI4R0ExVWRJd1FZTUJhQUZCOE85SUpCay9TZG55VlVjc0ZLbFRMVENDQXhNQThHQTFVZApFd0VCL3dRRk1BTUJBZjh3TkFZRFZSMFJCQzB3SzRJcFpXNTJhWEp2Ym0xbGJuUXRkbUZzYVdSaGRHOXlMWGRsClltaHZiMnN1WkdWbVlYVnNkQzV6ZG1Nd0RRWUpLb1pJaHZjTkFRRUxCUUFEZ2dJQkFERkVDMmxzN0xucTNRbnEKWGFDc2hWcGhFaG84WlVZSWRraTlQMmt0dFJ5VDUvVVRUaEdlTmx3NEt4bGFjZ0dwS0ZqL0d3UHJGdEdsNFN1RgoyVHIyem9TbTRRc2RXTFAyMkJjcGQ0SXN1cERqODdLQjlwSHFrUGs1RWpQcW5pTHlBYWQwZ21mcWVaNnR4c21tCmFBKzFQL0swSERmQ29seHBFdDNlbHoyMTg1L1drWVJUV3pSSWlHdFJiMEl3SHVHZzJuSVBQMERDcnVLZmpYbEsKWVlkeC9VSktwaHBQNHdUOGFjMmpJcCtYbnlJV2pXN3VZZysvb3NMVC9TSFkwakVqelllVDBWaVZybDgvdXpFZAp4TEx3Z2JMZ3R0RFYwUlVrcjM3THpXeHlWYkxNM2N0ZU1nQmxxOFlCeW5wQ0lGYTFrWE9tK0dpWVFuMm9vcExDCjh2Zi95NjFvT1BNWjYvb2NNam13MWZ6K0RaV215OWtSc0MzTmNBUkp6aWlzTWs3L3AwRnBXbkRwaFFMMitUKzgKNitSU2h6ODJHN3hrSXhBd1FsRFM4OER6REN1VHBVN2xldEpiakV3S25RMEthSGJwOEpLa1BkclRtYTN5ay9JWApGU0pYNFNON1RFMXM0QVhtU1BTUE54UHA2enNJTStjNFJhemxtU29wNkZtU09aMWJVeS9MQ0YrOU5Nc3ppSVc1CnBHbEFtNXNDUmluN2lDbkkvYS9aR3lzNDkvSXhnTGR5TmxxdjVjNWtQdktBdFFWa3pFbE5jRFB3RytjcEZlT1gKRTVkYWtjeFAwbXFlVDZZdHdaRDAzbmRYTVdjWE9UNTAvM3dYK3RGK2hCQXE5c1dKR3FjOVREVXFoU3Y1bm9DMApnWThKSVBzbm5ZZFhpVTk0OGlYY1hWbklMT1IvCi0tLS0tRU5EIENFUlRJRklDQVRFLS0tLS0K
    rules:
      - operations: [ "CREATE", "UPDATE" ]
        apiGroups: ["fission.io"]
        apiVersions: ["v1"]
        resources: ["environments"]
    admissionReviewVersions: ["v1", "v1beta1"]
    sideEffects: None
    timeoutSeconds: 5