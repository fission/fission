apiVersion: fission.io/v1
kind: Environment
metadata:
  creationTimestamp: null
  name: node
  namespace: default
spec:
  TerminationGracePeriod: 360
  builder: {}
  keeparchive: false
  poolsize: 3
  resources: {}
  runtime:
    functionendpointport: 0
    image: fission/node-env
    loadendpointpath: ""
    loadendpointport: 0
    container:
      name: node
      volumeMounts:
        - name: cvol
          mountPath: /etc/cvoldata
          readOnly: true
    podspec:
      Containers:
      - name: node
        image: fission/node-env
        volumeMounts:
          - name: funcvol
            mountPath: /etc/funcdata
            readOnly: true
      - name: yanode
        image: fission/node-env
        command: ['sh', '-c', 'sleep 36000000000']
      initContainers:
      - name: init-node
        image: fission/node-env 
        command: ['sh', '-c', 'cat /etc/infopod/labels']
        volumeMounts:
          - name: infopod
            mountPath: /etc/infopod
            readOnly: false
      volumes:
        - name: infopod
          downwardAPI:
            items:
              - path: "labels"
                fieldRef:
                  fieldPath: metadata.labels
        - name: funcvol
          downwardAPI:
            items:
              - path: "labels"
                fieldRef:
                  fieldPath: metadata.labels
        - name: cvol
          downwardAPI:
            items:
              - path: "labels"
                fieldRef:
                  fieldPath: metadata.labels                  
  version: 1
